---
date: 2025-01-06
# I hope that even after I am gone, this document could help someone else to maintain this project
---
# Update Hint Data to The Latest Version

## Prerequisites

All hint data including can be found in the directory [src/hint-data/manifests](../src/hint-data/manifests).
And all of them are generated by the scripts in [src/hint-data/fetch](../src/hint-data/fetch). 
This also means that in most cases, you should not manually edit them.


There are many hint data generator scripts need to request web page and download them from the internet.
You can find the URLs of these web pages in the file [src/hint-data/manpage-url.ts](../src/hint-data/manpage-url.ts).


To reduce the number of network requests, there is a cache mechanism for the fetch scripts. 
In short, you can use the one of the following approaches to ensure the scripts request 
the latest version of document from the internet rather than read from old local cache files:

``` bash
# Approach 1:
export NO_CACHE=1

# Approach 2:
rm -r cache
```

## SOP

``` bash
# Please build this project once to generate fetch-related scripts
yarn build:ts

# Fetching and generating hint data for basic systemd directives
yarn run fetch:base

# Fetching and generating hint data about Podman Quadlet
yarn run fetch:podman

# Fetching and generating hint data about Linux Capabilities
yarn run fetch:capabilities

# Fetching and generating hint data about Linux syscalls
yarn run fetch:syscalls
```

## Manually Review

### Podman Quadlet

1. Are any new sections or file extensions added?
  - https://github.com/hangxingliu/vscode-systemd/commit/68de80f339e4d54f574c418eb63c00afb6edb687
  - https://github.com/hangxingliu/vscode-systemd/commit/2b7b123d05c1af3db4ee21b16fdd946a23377431
2. Are any new directives that accepts boolean value added? Then please update `_PODMAN_BOOLEAN_DIRECTIVES` config and generate the manifest again

### Mkosi


## Update data to new systemd version

- Add deprecated directives from `logs/v*-removed.json`
- Check `logs/v*-changes.json` to update documentation in `src/hint-data/custom-value-enum`
